<!doctype html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>Demosthenes</title>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <style>
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; margin: 2rem; }
      input, button { font-size: 1rem; padding: .5rem .75rem; }
      pre { background: #f6f8fa; padding: 1rem; overflow:auto; }
    </style>
  </head>
  <body>
    <h1>Demosthenes (placeholder)</h1>
    <p>This static page will be replaced by a real app (Next.js) later.</p>

    <label>
      Address:
      <input id="addr" size="50" placeholder="1600 Pennsylvania Ave NW, Washington DC"/>
    </label>
    <button id="lookup">Who represents me?</button>

    <h2>Result</h2>
    <pre id="out">â€”</pre>

    <script>
      const API_BASE = localStorage.getItem("API_BASE") || "http://localhost:8000";
      document.getElementById("lookup").onclick = async () => {
        const address = document.getElementById("addr").value.trim();
        const res = await fetch(`${API_BASE}/whoami?address=${encodeURIComponent(address)}`);
        document.getElementById("out").textContent = await res.text();
      };
    </script>
  </body>
</html>
